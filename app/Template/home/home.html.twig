{% extends "base.html.twig" %}

{% block style %}
        <style>
            #fond{
                background-color: darkslateblue;
                border-color: #023c56;
            }

            .container {
                text-align: center;
                padding: 0;
                margin: 0;
                width: 100%;
                height: 100vh; /* Hauteur de l'écran */
                border-radius: 10px;
            }

            #map {
                width: 100%;   /* La carte occupe toute la largeur */
                height: 100%;  /* La carte occupe toute la hauteur */
            }
        </style>

{% endblock %}

{% block content %}
    <div class="container">
    <center><div>{{ titre }}</div></center>
    <div id="map" class="map-container" style="height: 450px"></div>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css">
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" defer></script>
    </div>


{% endblock %}

{% block javascript %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
    // Initialisation de la carte à Paris
    var lat = 48.852969;
    var lon = 2.349903;
    var map = L.map('map').setView([lat, lon], 11);

    L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {
    attribution: 'Données &copy; <a href="https://osm.org/copyright">OpenStreetMap</a> / ODbL - rendu <a href="https://openstreetmap.fr">OSM France</a>',
    minZoom: 1,
    maxZoom: 20
}).addTo(map);

    map.on('click', function (e) {
    var marker = L.marker(e.latlng).addTo(map);
});

    console.log("Carte initialisée avec succès");
});
</script>
{% endblock %}
